<!DOCTYPE html>
<html 
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/orderLayout}">
<section layout:fragment="content" class="contents d-flex justify-content-center">
	<div class="orderForm col-7">
	
	<!-- 주문 상품 -->
	<div class="bg-success">
		<h5><b>주문상품</b></h5>
		<div class="d-flex">
			<!-- 상품 이미지 -->
			<div class="col-2 bg-dark">
				<img>
			</div>
			
			<!-- 상품 정보 -->
			<div class="col-10 bg-light">
			
			
			</div>		
		</div>
	</div>
	
	<!-- 결제 정보 -->
	<div class="my-3 bg-light">		
		<h5 class="py-2"><b>최종 결제 금액</b></h5>
		<div ></div>
	</div>
	
	
	<!-- 주문 정보 -->
	<div class="w-100 border border-dark my-3">
		<h5 class="mt-3 ml-3"><b>주문 정보</b></h5>
		<table class="table table-borderless">
			<tr>
				<th>*주문자</th>
				<td><input th:value="${user.userId}" type="text" id="name" class="form-control"></td>
			</tr>
			<tr>
				<th>*이메일</th>
				<td><input th:value="${user.email}" type="text" id="name" class="form-control"></td>
			</tr>
			<tr>
				<th>*휴대전화</th>
				<td><input th:value="${user.phone}" type="text" id="name" class="form-control"></td>
			</tr>
			<tr>
				<th>*주소</th>
				<td>
					<span class="d-flex">
						<input type="text" th:value="${postCode}" id="postCode" class="form-control col-4" placeholder="우편번호">
						<input type="button" value="우편번호 찾기" id="addressBtn" class="btn btn-secondary ml-2 col-3"><br>
					</span>
					<input type="text" th:value="${address}" id="address" placeholder="주소" class="form-control my-2">
					<input type="text" th:value="${detailAddress}" id="detailAddress" placeholder="상세주소" class="form-control">											
				</td>
			</tr>					
		</table>			
	</div>
	
	<!--  배송지 -->
	<div class="w-100 border border-dark">
		<h5 class="mt-3 ml-3"><b>배송지</b></h5>
		<table class="table table-borderless">
			<tr>
				<th>*받는사람</th>
				<td><input type="text" id="name" class="form-control"></td>
			</tr>
			<tr>
				<th>*휴대전화</th>
				<td><input type="text" id="name" class="form-control"></td>
			</tr>
			<tr>
				<th>*주소</th>
				<td>
					<span class="d-flex">
						<input type="text" id="postCode" class="form-control col-4" placeholder="우편번호">
						<input type="button" value="우편번호 찾기" id="addressBtn" class="btn btn-secondary ml-2 col-3"><br>
					</span>
					<input type="text" id="address" placeholder="주소" class="form-control my-2">
					<input type="text" id="detailAddress" placeholder="상세주소" class="form-control">											
				</td>
			</tr>					
		</table>					
	</div>
	
	<div class="d-flex justify-content-center">
		<button class="orderBtn btn btn-dark col-3 mt-4">주문하기</button>
	</div>
	</div>
		
</section>

<th:block layout:fragment="script">
	<!-- 우편번호 찾기 -->
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    
    <script>
    	$(document).ready(function(){
    		
    		//우편번호 찾기 
    		$("#addressBtn").on('click',function(){
    			new daum.Postcode({
    	            oncomplete: function(data) {
    	                // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.
    	
    	                // 각 주소의 노출 규칙에 따라 주소를 조합한다.
    	                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
    	                var addr = ''; // 주소 변수
    	                var extraAddr = ''; // 참고항목 변수
    	
    	                //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
    	                if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
    	                    addr = data.roadAddress;
    	                } else { // 사용자가 지번 주소를 선택했을 경우(J)
    	                    addr = data.jibunAddress;
    	                }
    	
    	                // 우편번호와 주소 정보를 해당 필드에 넣는다.
    	                document.getElementById('postCode').value = data.zonecode;
    	                document.getElementById("address").value = addr;
    	                // 커서를 상세주소 필드로 이동한다.
    	                document.getElementById("detailAddress").focus();
    	            }
    	        }).open();
    			
    		}); //-------------------- 우편번호 찾기 끝
    		
    		
    		// 주문하기btn 
    		$(".orderBtn").on('click',function(){
    			
    			
    			
    		});
    
    	});
    </script>
</th:block>